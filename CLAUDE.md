# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## é¡¹ç›®æ¦‚è§ˆ

è¿™æ˜¯ä¸€ä¸ªåŸºäº Hugo é™æ€ç«™ç‚¹ç”Ÿæˆå™¨æ„å»ºçš„ä¸ªäººåšå®¢/æ–‡æ¡£ç½‘ç«™ï¼ˆlogosblog.comï¼‰ï¼Œä¸»è¦ç”¨äºåˆ†äº«ä¿¡æ¯æŠ€æœ¯ã€å¿ƒç†å­¦ç­‰é¢†åŸŸçš„çŸ¥è¯†å†…å®¹ã€‚

- **ç«™ç‚¹ç”Ÿæˆå™¨**: Hugo 0.134+ (éœ€è¦ extended ç‰ˆæœ¬)
- **ä¸»é¢˜**: hugo-book (é€šè¿‡ git submodule ç®¡ç†)
- **ä¸»è¦è¯­è¨€**: ç®€ä½“ä¸­æ–‡
- **å†…å®¹æ ¼å¼**: Markdown æ–‡ä»¶ï¼Œä½¿ç”¨ YAML/TOML frontmatter

## å¸¸ç”¨å‘½ä»¤

### æœ¬åœ°å¼€å‘
```bash
# å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
hugo server --minify --theme hugo-book

# æˆ–è€…ä½¿ç”¨è‰ç¨¿æ¨¡å¼æŸ¥çœ‹æœªå‘å¸ƒå†…å®¹
hugo server --buildDrafts --minify --theme hugo-book
```

æœ¬åœ°æœåŠ¡å™¨é»˜è®¤è¿è¡Œåœ¨ `http://localhost:1313`

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
# ç”Ÿæˆé™æ€ç«™ç‚¹åˆ° public/ ç›®å½•
hugo --minify
```

### å†…å®¹ç®¡ç†
```bash
# åˆ›å»ºæ–°æ–‡ç« ï¼ˆä¼šä½¿ç”¨ archetypes/default.md æ¨¡æ¿ï¼‰
hugo new docs/ä¿¡æ¯æŠ€æœ¯/æ–°æ–‡ç« åç§°.md

# åˆ›å»ºæ–°ç« èŠ‚
hugo new docs/æ–°ç« èŠ‚/_index.md
```

æ–°åˆ›å»ºçš„æ–‡ä»¶é»˜è®¤æ˜¯è‰ç¨¿çŠ¶æ€ (`draft = true`)ï¼Œå‘å¸ƒå‰éœ€è¦æ”¹ä¸º `draft = false` æˆ–åˆ é™¤è¯¥å­—æ®µã€‚

### Git Submoduleï¼ˆä¸»é¢˜ç®¡ç†ï¼‰
```bash
# é¦–æ¬¡å…‹éš†ä»“åº“åï¼Œåˆå§‹åŒ–å¹¶æ›´æ–°ä¸»é¢˜
git submodule update --init --recursive

# æ›´æ–°ä¸»é¢˜åˆ°æœ€æ–°ç‰ˆæœ¬
cd themes/hugo-book
git pull origin master
cd ../..
git add themes/hugo-book
git commit -m "æ›´æ–° hugo-book ä¸»é¢˜"
```

## ä»£ç æ¶æ„

### ç›®å½•ç»“æ„

```
logosblog/
â”œâ”€â”€ content/              # å†…å®¹ç›®å½•ï¼ˆæ‰€æœ‰ Markdown æ–‡ç« ï¼‰
â”‚   â”œâ”€â”€ _index.md         # ç½‘ç«™é¦–é¡µ
â”‚   â”œâ”€â”€ quotes.md         # æ¯æ—¥æ ¼è¨€æ•°æ®æºï¼ˆheadless pageï¼‰
â”‚   â””â”€â”€ docs/             # æ–‡æ¡£åˆ†ç±»ç›®å½•
â”‚       â”œâ”€â”€ ä¿¡æ¯æŠ€æœ¯/      # æŠ€æœ¯æ–‡ç« ï¼ˆJavaã€æ¶æ„è®¾è®¡ç­‰ï¼‰
â”‚       â”œâ”€â”€ å¿ƒç†å­¦/        # å¿ƒç†å­¦æ–‡ç« ï¼ˆè®¤çŸ¥å¿ƒç†å­¦ã€äººé™…å…³ç³»ç­‰ï¼‰
â”‚       â””â”€â”€ å…¶ä»–/          # å…¶ä»–å†…å®¹ï¼ˆå·¥å…·ã€æ•™ç¨‹ç­‰ï¼‰
â”‚
â”œâ”€â”€ layouts/              # è‡ªå®šä¹‰æ¨¡æ¿ï¼ˆè¦†ç›–ä¸»é¢˜é»˜è®¤æ¨¡æ¿ï¼‰
â”‚   â”œâ”€â”€ partials/         # å±€éƒ¨æ¨¡æ¿ç‰‡æ®µ
â”‚   â”‚   â””â”€â”€ docs/
â”‚   â”‚       â”œâ”€â”€ html-head-favicon.html  # å¤šæ ¼å¼ç½‘ç«™å›¾æ ‡é…ç½®
â”‚   â”‚       â””â”€â”€ html-head-title.html    # åŠ¨æ€é¡µé¢æ ‡é¢˜ç”Ÿæˆ
â”‚   â””â”€â”€ shortcodes/       # è‡ªå®šä¹‰çŸ­ä»£ç 
â”‚       â”œâ”€â”€ daily-quote.html           # éšæœºæ¯æ—¥æ ¼è¨€
â”‚       â”œâ”€â”€ latest-posts.html          # æœ€æ–°å•ç¯‡æ–‡ç« 
â”‚       â”œâ”€â”€ recent-posts.html          # è¿‘æœŸæ–‡ç« åˆ—è¡¨
â”‚       â”œâ”€â”€ recommended-posts.html     # æ¨èæ–‡ç« ï¼ˆfeaturedï¼‰
â”‚       â””â”€â”€ tags-list.html             # æ ‡ç­¾äº‘
â”‚
â”œâ”€â”€ static/               # é™æ€èµ„æºï¼ˆfaviconã€å›¾ç‰‡ç­‰ï¼‰
â”œâ”€â”€ themes/hugo-book/     # Hugo Book ä¸»é¢˜ï¼ˆgit submoduleï¼‰
â”œâ”€â”€ archetypes/           # å†…å®¹æ¨¡æ¿
â”‚   â””â”€â”€ default.md        # é»˜è®¤æ–‡ç« æ¨¡æ¿ï¼ˆTOML frontmatterï¼‰
â””â”€â”€ hugo.toml             # Hugo ä¸»é…ç½®æ–‡ä»¶
```

### å†…å®¹ç»„ç»‡æ¶æ„

1. **å±‚çº§ç»“æ„**: ä½¿ç”¨ `_index.md` å®šä¹‰ç« èŠ‚ï¼Œæ”¯æŒæ— é™å±‚çº§åµŒå¥—
2. **å¯¼èˆªæ’åº**: é€šè¿‡ frontmatter ä¸­çš„ `weight` å­—æ®µæ§åˆ¶æ’åºï¼ˆæ•°å­—è¶Šå°è¶Šé å‰ï¼‰
3. **ç« èŠ‚æŠ˜å **: ä½¿ç”¨ `bookCollapseSection: true` å®ç°å¯æŠ˜å ä¾§è¾¹æ 
4. **æ¨èå†…å®¹**: é€šè¿‡ `featured: true` æ ‡è®°æ¨èæ–‡ç« 
5. **æ ‡ç­¾ç³»ç»Ÿ**: ä½¿ç”¨ `tags` å­—æ®µåˆ†ç±»æ–‡ç« 

### è‡ªå®šä¹‰çŸ­ä»£ç ç³»ç»Ÿ

é¡¹ç›®å®ç°äº† 5 ä¸ªè‡ªå®šä¹‰çŸ­ä»£ç ï¼Œç”¨äºåŠ¨æ€å†…å®¹å±•ç¤ºï¼š

1. **`{{< daily-quote >}}`**
   - åŠŸèƒ½ï¼šä» `content/quotes.md` éšæœºå±•ç¤ºä¸€æ¡æ ¼è¨€
   - å®ç°ï¼šä½¿ç”¨ JavaScript å®¢æˆ·ç«¯éšæœºé€‰æ‹©ï¼Œæ”¯æŒç´«è‰²ä¸»é¢˜æ ·å¼
   - ä½ç½®ï¼šlayouts/shortcodes/daily-quote.html:1-65

2. **`{{< latest-posts >}}`**
   - åŠŸèƒ½ï¼šæ˜¾ç¤ºæœ€æ–°çš„ä¸€ç¯‡æ–‡ç« ï¼ˆéç« èŠ‚é¡µï¼‰
   - æ’åºï¼šæŒ‰å‘å¸ƒæ—¥æœŸé™åº

3. **`{{< recent-posts limit=10 >}}`**
   - åŠŸèƒ½ï¼šæ˜¾ç¤ºæœ€è¿‘ N ç¯‡æ–‡ç« åˆ—è¡¨
   - å‚æ•°ï¼š`limit` æŒ‡å®šæ˜¾ç¤ºæ•°é‡

4. **`{{< recommended-posts >}}`**
   - åŠŸèƒ½ï¼šæ˜¾ç¤ºæ‰€æœ‰æ ‡è®°ä¸º `featured: true` çš„æ–‡ç« 
   - ç”¨é€”ï¼šé¦–é¡µæ¨èå†…å®¹å±•ç¤º

5. **`{{< tags-list >}}`**
   - åŠŸèƒ½ï¼šå±•ç¤ºæ‰€æœ‰æ–‡ç« æ ‡ç­¾åŠç»Ÿè®¡æ•°é‡
   - ç”¨é€”ï¼šæ ‡ç­¾äº‘åŠŸèƒ½

### Hugo é…ç½®è¦ç‚¹

**hugo.toml å…³é”®é…ç½®**:
```toml
baseURL = 'https://logosblog.com/'
languageCode = 'zh-cn'
title = 'ğ“›ğ“¸ğ“°ğ“¸ğ“¼'
theme = 'hugo-book'
enableEmoji = true

[params]
  BookTheme = "light"        # å›ºå®šä½¿ç”¨äº®è‰²ä¸»é¢˜
  BookToC = true             # å¯ç”¨å³ä¾§ç›®å½•

[markup.goldmark.renderer]
  unsafe = true              # å…è®¸åœ¨ Markdown ä¸­ä½¿ç”¨ HTML

[markup.highlight]
  style = "monokai"          # ä»£ç é«˜äº®ï¼šMonokai ä¸»é¢˜
  lineNos = true             # æ˜¾ç¤ºä»£ç è¡Œå·
```

### Frontmatter æ ‡å‡†æ ¼å¼

```toml
+++
title = 'æ–‡ç« æ ‡é¢˜'
date = '2025-01-15T10:00:00+08:00'
draft = false
weight = 10                    # å¯é€‰ï¼šæ§åˆ¶æ’åº
bookCollapseSection = true     # å¯é€‰ï¼šç« èŠ‚æŠ˜å 
featured = true                # å¯é€‰ï¼šæ¨èæ–‡ç« æ ‡è®°
tags = ['Java', 'Spring', 'å¾®æœåŠ¡']  # å¯é€‰ï¼šæ ‡ç­¾
+++
```

## å¼€å‘æ³¨æ„äº‹é¡¹

### å†…å®¹åˆ›å»ºè§„èŒƒ

1. **ç« èŠ‚é¡µé¢** (`_index.md`): ç”¨äºåˆ›å»ºå¯¼èˆªåˆ†ç±»ï¼Œå¿…é¡»åŒ…å« `bookCollapseSection` ç­‰å…ƒæ•°æ®
2. **æ™®é€šé¡µé¢** (`.md`): å…·ä½“æ–‡ç« å†…å®¹ï¼Œéœ€è¦åŒ…å« titleã€date ç­‰åŸºæœ¬å­—æ®µ
3. **è‰ç¨¿çŠ¶æ€**: æ–°å»ºå†…å®¹é»˜è®¤ä¸º `draft = true`ï¼Œå‘å¸ƒå‰éœ€æ”¹ä¸º `false` æˆ–åˆ é™¤è¯¥å­—æ®µ
4. **æ–‡ä»¶å‘½å**: æ”¯æŒä¸­æ–‡æ–‡ä»¶åï¼ŒHugo ä¼šè‡ªåŠ¨ç”Ÿæˆå‹å¥½çš„ URL

### ä¸»é¢˜å®šåˆ¶åŸåˆ™

- **ä¸ç›´æ¥ä¿®æ”¹ä¸»é¢˜æ–‡ä»¶**: themes/hugo-book/ æ˜¯ git submoduleï¼Œåº”é€šè¿‡ layouts/ ç›®å½•è¦†ç›–
- **Partial è¦†ç›–**: layouts/partials/docs/ ä¸­çš„æ–‡ä»¶ä¼˜å…ˆçº§é«˜äºä¸»é¢˜é»˜è®¤
- **çŸ­ä»£ç æ‰©å±•**: æ‰€æœ‰è‡ªå®šä¹‰çŸ­ä»£ç æ”¾åœ¨ layouts/shortcodes/
- **é™æ€èµ„æº**: ç›´æ¥æ”¾åœ¨ static/ ç›®å½•ï¼ŒHugo ä¼šè‡ªåŠ¨å¤„ç†

### æ ¼è¨€ç³»ç»Ÿï¼ˆquotes.mdï¼‰

`content/quotes.md` æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ headless pageï¼Œç”¨äºå­˜å‚¨æ¯æ—¥æ ¼è¨€æ•°æ®ï¼š

```yaml
---
headless: true
quotes:
  - "ç¬¬ä¸€æ¡æ ¼è¨€å†…å®¹"
  - "ç¬¬äºŒæ¡æ ¼è¨€å†…å®¹"
  - "ç¬¬ä¸‰æ¡æ ¼è¨€å†…å®¹"
---
```

- **ä¸ä¼šç”Ÿæˆç‹¬ç«‹é¡µé¢**: `headless: true` ç¡®ä¿è¯¥é¡µé¢ä¸å‡ºç°åœ¨å¯¼èˆªä¸­
- **æ•°æ®æº**: daily-quote shortcode ä¼šè¯»å– `quotes` æ•°ç»„
- **éšæœºå±•ç¤º**: æ¯æ¬¡é¡µé¢åŠ è½½éšæœºé€‰æ‹©ä¸€æ¡æ ¼è¨€

### æ„å»ºè¾“å‡ºè¯´æ˜

- **public/**: ç”Ÿäº§ç¯å¢ƒé™æ€æ–‡ä»¶è¾“å‡ºç›®å½•ï¼ˆå·²åœ¨ .gitignore ä¸­ï¼‰
- **resources/**: Hugo èµ„æºç¼“å­˜ç›®å½•ï¼ˆå·²åœ¨ .gitignore ä¸­ï¼‰
- **.hugo_build.lock**: Hugo æ„å»ºé”æ–‡ä»¶ï¼ˆå·²åœ¨ .gitignore ä¸­ï¼‰

è¿™äº›ç›®å½•æ— éœ€æäº¤åˆ° Git ä»“åº“ã€‚

## åˆ†æ”¯ç®¡ç†

- **ä¸»åˆ†æ”¯**: `master` - ç”¨äºåˆ›å»º Pull Request
- **å¼€å‘åˆ†æ”¯**: `develop` - å½“å‰å·¥ä½œåˆ†æ”¯

## æŠ€æœ¯æ ˆè¯´æ˜

- **Markdown æ¸²æŸ“å™¨**: Goldmarkï¼ˆHugo é»˜è®¤ï¼‰
- **ä»£ç é«˜äº®**: Chromaï¼ˆå†…ç½®ï¼‰
- **æœç´¢åŠŸèƒ½**: Flexsearchï¼ˆä¸»é¢˜é›†æˆï¼Œå®¢æˆ·ç«¯ JavaScript å®ç°ï¼‰
- **PWA æ”¯æŒ**: å·²é…ç½® manifest å’Œ service worker
- **å›¾æ ‡æ ¼å¼**: æ”¯æŒ favicon.icoã€PNGã€Apple Touch Iconã€Android Chrome

## ä¸»é¢˜æ–‡æ¡£

Hugo Book ä¸»é¢˜çš„å®Œæ•´æ–‡æ¡£ä½äº: `themes/hugo-book/README.md`

å¦‚éœ€äº†è§£ä¸»é¢˜çš„é«˜çº§åŠŸèƒ½ï¼ˆå¦‚ Mermaid å›¾è¡¨ã€æ•°å­¦å…¬å¼ã€è‡ªå®šä¹‰èœå•ç­‰ï¼‰ï¼Œè¯·å‚è€ƒä¸»é¢˜æ–‡æ¡£ã€‚
